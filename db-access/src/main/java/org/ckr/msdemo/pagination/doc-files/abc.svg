<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="745px" preserveAspectRatio="none" style="width:1953px;height:745px;" version="1.1" viewBox="0 0 1953 745" width="1953px" zoomAndPan="magnify"><defs><filter height="300%" id="fa55hdd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="53" x2="53" y1="41.1201" y2="703.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="307.5" x2="307.5" y1="41.1201" y2="703.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="504.5" x2="504.5" y1="41.1201" y2="703.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="865" x2="865" y1="41.1201" y2="703.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="982" x2="982" y1="41.1201" y2="703.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1267.5" x2="1267.5" y1="41.1201" y2="703.9624"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1587.5" x2="1587.5" y1="41.1201" y2="703.9624"/><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="15" y="26.0439">HTTPClient</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="8" y="702.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="15" y="726.0063">HTTPClient</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="231.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="238.5" y="26.0439">PaginationInterceptor</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="149" x="231.5" y="702.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="238.5" y="726.0063">PaginationInterceptor</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="216" x="394.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="202" x="401.5" y="26.0439">RestPaginationResponseAdvice</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="216" x="394.5" y="702.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="202" x="401.5" y="726.0063">RestPaginationResponseAdvice</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="799" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="806" y="26.0439">PaginationContext</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="799" y="702.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="806" y="726.0063">PaginationContext</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="942" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="949" y="26.0439">Controller</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="942" y="702.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="949" y="726.0063">Controller</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="1235.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1242.5" y="26.0439">Service</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="1235.5" y="702.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1242.5" y="726.0063">Service</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="1496.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="1503.5" y="26.0439">JpaRestPaginationService</text><rect fill="#FEFECE" filter="url(#fa55hdd)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="1496.5" y="702.9624"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="1503.5" y="726.0063">JpaRestPaginationService</text><polygon fill="#A80036" points="296,70.1201,306,74.1201,296,78.1201,300,74.1201" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="53" x2="302" y1="74.1201" y2="74.1201"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="60" y="70.0181">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="71" y="70.0181">Send request</text><polygon fill="#A80036" points="853.5,101.8745,863.5,105.8745,853.5,109.8745,857.5,105.8745" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="308" x2="859.5" y1="105.8745" y2="105.8745"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="315" y="101.7725">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="407" x="326" y="101.7725">Parse and store range of records and sorting fields from HTTP request.</text><polygon fill="#A80036" points="970,165.2605,980,169.2605,970,173.2605,974,169.2605" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="308" x2="976" y1="169.2605" y2="169.2605"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="315" y="165.1584">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="189" x="326" y="165.1584">Pass HTTP request to controller.</text><polygon fill="#FBFB77" filter="url(#fa55hdd)" points="987,119.6289,987,200.6289,1156,200.6289,1156,129.6289,1146,119.6289,987,119.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1146" x2="1146" y1="119.6289" y2="129.6289"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1156" x2="1146" y1="129.6289" y2="129.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="993" y="139.5269">Controller is the controller</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="993" y="157.2813">object that provide HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="993" y="175.0356">endpoint for this</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="993" y="192.79">pagination query.</text><polygon fill="#A80036" points="1256,251.4009,1266,255.4009,1256,259.4009,1260,255.4009" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="982" x2="1262" y1="255.4009" y2="255.4009"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="989" y="251.2988">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="1000" y="251.2988">Construct QL and parameters for the query.</text><polygon fill="#FBFB77" filter="url(#fa55hdd)" points="1273,214.6465,1273,277.6465,1545,277.6465,1545,224.6465,1535,214.6465,1273,214.6465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1535" x2="1535" y1="214.6465" y2="224.6465"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1545" x2="1535" y1="224.6465" y2="224.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="1279" y="234.5444">Service is the service object that implement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="1279" y="252.2988">the query logic. It should launch the DB</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1279" y="270.0532">transaction.</text><polygon fill="#A80036" points="1576,305.9097,1586,309.9097,1576,313.9097,1580,309.9097" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1268" x2="1582" y1="309.9097" y2="309.9097"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1275" y="305.8076">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="1286" y="305.8076">Pass search criteria to JpaRestPaginationService</text><polygon fill="#A80036" points="876.5,337.6641,866.5,341.6641,876.5,345.6641,872.5,341.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="870.5" x2="1587" y1="341.6641" y2="341.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="882.5" y="337.562">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="893.5" y="337.562">Retrieve pagination request info.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1588" x2="1630" y1="374.1729" y2="374.1729"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1630" x2="1630" y1="374.1729" y2="387.1729"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1589" x2="1630" y1="387.1729" y2="387.1729"/><polygon fill="#A80036" points="1599,383.1729,1589,387.1729,1599,391.1729,1595,387.1729" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1595" y="369.3164">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="1606" y="369.3164">Retrieve query content from DB.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1588" x2="1630" y1="418.9272" y2="418.9272"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1630" x2="1630" y1="418.9272" y2="431.9272"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1589" x2="1630" y1="431.9272" y2="431.9272"/><polygon fill="#A80036" points="1599,427.9272,1589,431.9272,1599,435.9272,1595,431.9272" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="1595" y="414.0708">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="346" x="1606" y="414.0708">Retrieve  and total number of records for this query from DB.</text><polygon fill="#A80036" points="876.5,458.9272,866.5,462.9272,876.5,466.9272,872.5,462.9272" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="870.5" x2="1587" y1="462.9272" y2="462.9272"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="882.5" y="458.8252">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="893.5" y="458.8252">Save the total number of records.</text><polygon fill="#A80036" points="1279,490.6816,1269,494.6816,1279,498.6816,1275,494.6816" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1273" x2="1587" y1="494.6816" y2="494.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1285" y="490.5796">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="1303" y="490.5796">Return result list</text><polygon fill="#A80036" points="993,522.436,983,526.436,993,530.436,989,526.436" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="987" x2="1267" y1="526.436" y2="526.436"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="999" y="522.334">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="1017" y="522.334">Return result. Commit DB transaction.</text><polygon fill="#A80036" points="515.5,554.1904,505.5,558.1904,515.5,562.1904,511.5,558.1904" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="509.5" x2="981" y1="558.1904" y2="558.1904"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="521.5" y="554.0884">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="539.5" y="554.0884">Pass HTTP response to it</text><polygon fill="#A80036" points="853.5,585.9448,863.5,589.9448,853.5,593.9448,857.5,589.9448" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="504.5" x2="859.5" y1="589.9448" y2="589.9448"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="511.5" y="585.8428">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="319" x="529.5" y="585.8428">Save total number of records in HTTP response header.</text><polygon fill="#A80036" points="319,617.6992,309,621.6992,319,625.6992,315,621.6992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="313" x2="503.5" y1="621.6992" y2="621.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="325" y="617.5972">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="343" y="617.5972">Pass HTTP response to it</text><polygon fill="#A80036" points="853.5,649.4536,863.5,653.4536,853.5,657.4536,857.5,653.4536" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="308" x2="859.5" y1="653.4536" y2="653.4536"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="315" y="649.3516">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="313" x="333" y="649.3516">Clear context data(pagination info) to release memory.</text><polygon fill="#A80036" points="64,681.208,54,685.208,64,689.208,60,685.208" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="307" y1="685.208" y2="685.208"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="70" y="681.106">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="88" y="681.106">Return result list with pagination info.</text></g></svg>